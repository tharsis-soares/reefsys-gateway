### Variables
@baseUrl = http://localhost:8080
@authUrl = {{baseUrl}}/auth
@usersUrl = {{baseUrl}}/users
@contentType = application/json

### Store token after login (use this response)
# @name login
POST {{authUrl}}/login HTTP/1.1
Content-Type: {{contentType}}

{
  "username": "johndoe",
  "password": "Secret123Pass"
}

### Extract token for subsequent requests
@token = {{login.response.body.token}}

###############################################
# Authentication Endpoints
###############################################

### 1. Register New User
POST {{authUrl}}/register HTTP/1.1
Content-Type: {{contentType}}

{
  "username": "johndoe",
  "email": "john@example.com",
  "password": "Secret123Pass"
}

###

### 2. Login (Alternative user)
POST {{authUrl}}/login HTTP/1.1
Content-Type: {{contentType}}

{
  "username": "janedoe",
  "password": "AnotherPass456"
}

###

### 3. Login - Admin User
POST {{authUrl}}/login HTTP/1.1
Content-Type: {{contentType}}

{
  "username": "admin",
  "password": "AdminPass789"
}

###############################################
# User Service Endpoints (Protected)
###############################################

### 4. Get All Users (requires authentication)
GET {{usersUrl}} HTTP/1.1
Authorization: Bearer {{token}}

###

### 5. Get User by ID
GET {{usersUrl}}/1 HTTP/1.1
Authorization: Bearer {{token}}

###

### 6. Update User
PUT {{usersUrl}}/1 HTTP/1.1
Authorization: Bearer {{token}}
Content-Type:


@authService = http://localhost:8081
### 7. Register via Auth Service (if separate)
POST {{authService}}/auth/register HTTP/1.1
Content-Type: application/json

{
  "username": "johndoe",
  "email": "john@example.com",
  "password": "Secret123Pass"
}


##### 1. Register New User
# @name register
POST {{authService}}/auth/register HTTP/1.1
Content-Type: application/json

{
  "username": "johndoe",
  "email": "john@example.com",
  "password": "Secret123Pass"
}